<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>CondoServe - Amigo do seu negócio</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

  </head>
  <body>

    <div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="row" id="top">
				<div class="col-md-4">
					<div class="page-header">
						<h1>
							CondoServe <br><small>Slogan aqui</small>
						</h1>
					</div>
				</div>
				<div class="col-md-8">
					<ul class="nav nav-pills">
						<li class="nav-item">
							<a class="nav-link " href="index.html">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link " href="produtos.html">Produtos</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="cadastroProduto.html">Cadastrar Produto</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="comoFunciona.html">Como Funciona</a>
						</li>							
					</ul>
				</div>
			</div>
			<div class="row" id="formCadastroProduto">
				<div class="col-md-12">
					<h2> Cadastro de Produto
					</h2>
					<form role="form">
						<div class="form-group col-md-8">							 
							<input required="true" type="text" class="form-control" id="nomeProduto" placeholder="Nome do Produto"/>
						</div>
						<div class="form-group col-md-8">							 
							<textarea required="true" class="form-control" id="detalheProduto" rows="3" placeholder="Detalhe do Produto"></textarea>
						</div>
						<div class="form-group col-md-6">							 
							<input required="true" type="text" class="form-control" id="marcaProduto" placeholder="Marca do Produto"/>
						</div>
						<div class="form-group col-md-4">							 
							<input required="true" type="text" class="form-control" id="valorProduto" placeholder="Valor do Produto"/>
						</div>						
						<div class="form-group">							 
							<label for="imagemProduto">
								Imagem do Produto
							</label>
							<input type="file" class="form-control-file" id="imagemProduto" />
							<p class="help-block">
								* Verifique a qualidade da imagem.
							</p>
						</div>
						<!-- Modal -->
						<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
						  <div class="modal-dialog modal-dialog-centered" role="document">
						    <div class="modal-content">
						      <div class="modal-header">
						        <h5 class="modal-title" id="exampleModalLongTitle">Cadastro Produto</h5>
						        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						          <span aria-hidden="true">&times;</span>
						        </button>
						      </div>
						      <div class="modal-body">
						        Produto cadastro com sucesso!
						      </div>
						      <div class="modal-footer">
						        <button type="button" class="btn btn-primary">Ok</button>
						      </div>
						    </div>
						  </div>
						</div>
						<button type="submit" class="btn btn-primary" id="btnCadastrarProduto" onclick="EnviarProduto2();">
							Cadastrar
						</button>
					</form>										
				</div>
			</div>
			<div class="row" id="footer">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-4">
							<ul class="nav flex-column">
								<li class="nav-item">
									<a class="nav-link" href="comoFunciona.html">Como Funciona</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="produtos.html">Produtos</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="cadastroProduto.html">Cadastrar Produto</a>
								</li>
							</ul>
						</div>
						<div class="col-md-4" style="padding-top: 9px;">
							<p>
								Contato
							</p>
							<p>
								Tel.: (11) 5544-3344
							</p>
							<p>
								condoserve@gmail.com
							</p>
						</div>
						<div class="col-md-4" style="padding-top: 9px;">
							<p>
								Facebook
							</p>
							<p>
								Instagram
							</p>
							<p>
								<img alt="Redes Sociais" src="images\redes-sociais.jpg" >
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row" id="quadroContato">
				<div class="col-md-12">
					 
					<address>
						 <strong>2020 por Bla bla</strong><br> São Paulo - SP, 12012-111 - contato@teste.com.br, Tel. (11) 5544-3322
					</address>
				</div>
			</div>
		</div>
	</div>
</div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/scripts.js"></script>
    
    <script>
    	function EnviarProduto(){

    		var descricaoProduto = $("#nomeProduto").val();
    		var detalheProduto = $("#detalheProduto").val();
    		var marcaProduto = $("#marcaProduto").val();
    		var valorProduto = $("#valorProduto").val();
    		
    		var xhr = $.ajax({
    			  url: "http://localhost:6060/produto",
    			  type: "POST",
    			  dataType: "json",
    			  contentType: 'application/json',
    			  data: {
    				  "codigoProduto": 6,
    				  "descricaoProduto": "descricaoProduto",
    				  "detalheProduto": "detalheProduto",
    				  "marcaProduto": "marcaProduto",
    				  "valorProduto": 10.00
    			  },
    			  success: function() {
    				  $('#exampleModalCenter').modal('show');
    			  },
    			  error: function(jqXHR, textStatus, errorThrown) {    				  
    				  console.log(textStatus + jqXHR.responseText);
    			  }
    		});
    		alert(xhr.responseText.headers.Host);
    	}
    	
    	function EnviarProduto2(){
    		
    		// Exemplo de requisição POST
    		var ajax = new XMLHttpRequest();

    		// Seta tipo de requisição: Post e a URL da API
    		ajax.open("POST", "http://localhost:6060/produto", true);
    		ajax.setRequestHeader("Content-type", "application/json");
    		
    		var descricaoProduto = $("#nomeProduto").val();
    		var detalheProduto = $("#detalheProduto").val();
    		var marcaProduto = $("#marcaProduto").val();
    		var valorProduto = $("#valorProduto").val();
    		
    		var data = {
  				  "codigoProduto": 9,
				  "descricaoProduto": descricaoProduto,
				  "detalheProduto": detalheProduto,
				  "marcaProduto": marcaProduto,
				  "valorProduto": valorProduto
    		}

    		// Seta paramêtros da requisição e envia a requisição
    		ajax.send(JSON.stringify(data));

    		// Cria um evento para receber o retorno.
    		ajax.onreadystatechange = function() {
    		  
    		  // Caso o state seja 4 e o http.status for 200, é porque a requisiçõe deu certo.
    			if (ajax.readyState == 4 && ajax.status == 200) {
    		    
    				var data = ajax.responseText;
    				
    				$('#exampleModalCenter').modal('show');
    			}
    		}    		
    	}
    </script>
  </body>
</html>